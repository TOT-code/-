
# Image Hover Zoom - Edge 浏览器插件

本插件允许您通过将鼠标悬停在网页上的图片或视频封面上方，来查看其放大的预览版本。

## 主要功能

* **图片悬浮放大**：将鼠标悬停在网页上的大多数图片 (`<img>` 标签) 上方，即可看到一个浮动的、等比例放大的预览图。
* **视频封面放大**：支持放大通过 `<video>` 标签的 `poster` 属性或通过 CSS `background-image` 实现的视频封面。
* **尝试加载高清图**：插件会尝试查找并加载更高分辨率的图片版本进行预览，包括：
  * 检查图片元素上常见的 `data-*` 高清图属性。
  * 检查图片的父 `<a>` 链接是否指向更高清的图片。
  * 包含针对特定网站（如新浪微博 `sinaimg.cn`、Twitter/X `pbs.twimg.com`）的规则，以获取其 "large" 或 "original" 版本的图片。
* **GIF 动画支持**：悬停在 GIF 动图上时，预览窗口中会显示动态的 GIF。
* **功能开关**：可以通过快捷键 `Ctrl+Q` 快速开启或关闭插件的图片放大功能。
* **状态提示**：当通过快捷键开启或关闭功能时，页面底部会显示一个简短的提示信息。

## 使用说明

1. **安装插件**：请参照下面的“安装与测试步骤”在 Microsoft Edge 浏览器中加载本插件。
2. **浏览网页**：安装并启用插件后，正常浏览任何包含图片的网页。
3. **悬停放大**：
   * 将鼠标光标移动到您想要预览的图片、GIF 动图或视频封面上。
   * 如果插件处于开启状态，一个放大的预览窗口会自动出现在光标附近。
   * 移动鼠标，预览窗口会跟随光标。
   * 将鼠标移开图片/封面，预览窗口会自动消失。
4. **开启/关闭功能 (快捷键)**：
   * 在任何网页上，按下键盘上的 `Ctrl` 键和 `Q` 键 (`Ctrl+Q`)。
   * 插件的图片放大功能将在“开启”和“关闭”状态之间切换。
   * 切换成功后，页面底部中央会显示一条提示信息，如“图片悬浮放大功能已开启”或“图片悬浮放大功能已关闭”。该提示信息会持续显示约2秒。
   * 当功能关闭时，鼠标悬停在图片上将不会显示放大预览。

## 安装与测试步骤

1. **图标文件 (推荐)**：

   * 在您的项目根目录 (与 `manifest.json` 文件同级) 下创建一个名为 `images` 的文件夹。
   * 为了获得最佳体验并在浏览器扩展管理页面正确显示图标，建议准备以下尺寸的 PNG 图标文件：
     * `icon16.png` (16x16 像素)
     * `icon48.png` (48x48 像素)
     * `icon128.png` (128x128 像素)
   * 将这些图标文件放入 `images` 文件夹中。
   * *当前 `manifest.json` 配置为所有尺寸均使用 `images/icon128.png`，浏览器会自动缩放。如果希望在小尺寸下获得更清晰的图标，请提供对应尺寸的文件并相应更新 `manifest.json` 的 `icons` 字段。*
2. **打开 Microsoft Edge 浏览器**。
3. **进入扩展管理页面**：

   * 在 Edge 浏览器的地址栏中输入 `edge://extensions/` 并按 Enter 键。
4. **启用开发人员模式**：

   * 在扩展管理页面的左下角（或页面某个显眼位置），找到并启用“开发人员模式” (Developer mode) 的开关。
5. **加载解压缩的扩展**：

   * 启用开发人员模式后，页面顶部（或附近）会出现一些新的操作按钮。
   * 点击“加载解压缩的扩展” (Load unpacked) 按钮。
6. **选择插件项目文件夹**：

   * 在弹出的文件选择对话框中，导航到并选择包含 `manifest.json` 文件的插件项目根文件夹。
   * 点击“选择文件夹” (Select Folder)。
7. **验证插件加载**：

   * "Image Hover Zoom" 插件现在应该会出现在已安装扩展的列表中。

## 故障排除

* **插件未加载或报错**：
  * 仔细检查 `manifest.json` 文件是否有语法错误 (例如，逗号缺失、括号不匹配等)。JSON 格式要求非常严格。
  * 确保所有在 `manifest.json` 中引用的文件 (`content.js`, `styles.css` 以及图标文件) 都存在于正确的路径下。
  * 在扩展管理页面，点击插件卡片上的“错误”按钮（如果显示）查看详细的错误信息。
* **放大预览未出现或行为异常**：
  * 确保插件功能已通过 `Ctrl+Q` 开启。
  * 打开 Edge 浏览器的开发者工具 (通常按 F12)。
  * 检查“控制台”(Console) 标签页是否有以 `[HoverZoom]` 开头的 JavaScript 错误或日志信息。
  * 在“元素”(Elements) 标签页检查 `.image-hover-preview-container` 元素是否已创建，并查看其 CSS 样式是否正确应用。
  * 在“来源”(Sources) 标签页可以找到 `content.js`，您可以在其中设置断点进行调试。

通过以上步骤，您应该能够成功加载并测试 "Image Hover Zoom" 插件。
